:root {
  --bg:#0B0D0F;
  --surface:#121417;
  --muted:#1B1E22;
  --text:#E6EAF0;
  --border:#23262B;
  --accent:#4F46E5;
  --info:#06B6D4;
  --success:#10B981;
  --warn:#F59E0B;
  --danger:#EF4444;
  --shadow:0 6px 24px rgba(0,0,0,.24);
  --radius:0.75rem;
  --transition:150ms ease;
}
:root[data-theme='light']{
  --bg:#FFFFFF;
  --surface:#F6F7F9;
  --text:#111;
  --border:#D0D5DD;
}
@media (prefers-color-scheme: light) {
  :root {
    --bg:#FFFFFF;
    --surface:#F6F7F9;
    --text:#111;
    --border:#D0D5DD;
  }
}
*{box-sizing:border-box;margin:0;padding:0;}
body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:16px;line-height:1.5;display:flex;}
a{color:inherit;text-decoration:none}
.hidden{display:none!important}
.btn{cursor:pointer;border:1px solid var(--border);border-radius:var(--radius);padding:0.5rem 1rem;background:var(--surface);color:var(--text);transition:background var(--transition),color var(--transition),border var(--transition);}
.btn.primary{background:var(--accent);border-color:var(--accent);color:#fff;}
.btn.ghost{background:transparent;}
.btn:focus{outline:2px solid var(--accent);outline-offset:2px;}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:1rem;margin-bottom:1rem;}
.sidebar{width:220px;background:var(--surface);border-right:1px solid var(--border);padding:1rem;display:flex;flex-direction:column;transition:width var(--transition);} 
.sidebar[data-collapsed='true']{width:64px;}
.sidebar .nav-link{display:flex;align-items:center;gap:.5rem;padding:.5rem;border-radius:var(--radius);} 
.sidebar .nav-link.active{background:var(--muted);}
.topbar{position:sticky;top:0;height:56px;background:var(--surface);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 1rem;box-shadow:var(--shadow);z-index:50;}
.page{flex:1;padding:1rem;overflow-y:auto;}
/* palette */
.palette{position:fixed;inset:0;display:flex;align-items:start;justify-content:center;padding-top:10vh;background:rgba(0,0,0,.6);} 
.palette.hidden{display:none;}
.palette-content{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);width:480px;max-width:90%;box-shadow:var(--shadow);}
.palette-content input{width:100%;padding:.75rem 1rem;background:transparent;border:none;border-bottom:1px solid var(--border);color:var(--text);}
.palette-content ul{max-height:240px;overflow-y:auto;list-style:none;margin:0;padding:0;}
.palette-content li{padding:.5rem 1rem;cursor:pointer;}
.palette-content li.active{background:var(--muted);}
/* toasts */
.toasts{position:fixed;bottom:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:100;}
.toast{padding:.75rem 1rem;border-radius:var(--radius);color:#fff;box-shadow:var(--shadow);}
.toast.info{background:var(--info);} 
.toast.success{background:var(--success);} 
.toast.warn{background:var(--warn);} 
.toast.danger{background:var(--danger);} 
